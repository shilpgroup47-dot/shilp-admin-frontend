import{j as e}from"./chunk-uF_e8af6.js";import{a as t,r as s}from"./chunk-DkyOUQ6A.js";import{g as r,a,t as l,d as i}from"./chunk-CZKhe9Qd.js";import{T as c}from"./chunk-DAwuSOxu.js";import{D as n}from"./chunk-DvhaDKp5.js";import{e as d,M as o,d as x,E as m,f as p,T as h,B as g,H as u}from"./chunk-Ci71oLUO.js";const j=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const g=t(),[u,j]=s.useState([]),[b,y]=s.useState(!0),[f,v]=s.useState(null),[N,w]=s.useState(null),[k,A]=s.useState(!1),[C,S]=s.useState(""),[_,T]=s.useState("info"),[P,E]=s.useState(!1),[$,D]=s.useState(null);s.useEffect(()=>{z()},[]);const z=async()=>{try{y(!0),v(null);const e=await r("plot");e.success&&e.data&&e.data.projects?j(e.data.projects):(j([]),v(e.message||"Failed to fetch plot projects"))}catch(e){j([]),v("Error loading projects"),console.error("Error fetching plot projects:",e)}finally{y(!1)}};return b?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading plot projects..."})]})}):f?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-600 font-medium",children:f}),e.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(d,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Plot Projects"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage land plots, their sizes, locations, and availability status."}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Total Projects:"}),e.jsx("span",{className:"text-sm font-bold text-blue-900",children:u?.length||0})]})]}),u&&0!==u.length?e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t.cardImage&&e.jsx("img",{src:a(t.cardImage),alt:t.projectTitle,className:"h-10 w-10 rounded-lg object-cover mr-3",onError:e=>{console.error("Failed to load image:",t.cardImage),e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="40"%3E%3Crect fill="%23ddd" width="40" height="40"/%3E%3C/svg%3E'}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.projectTitle}),e.jsx("div",{className:"text-sm text-gray-500",children:t.slug})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(o,{size:16,className:"text-blue-500 mr-2 shrink-0"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.cardLocation||t.shortAddress})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.cardAreaFt})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("on-going"===t.projectState?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"on-going"===t.projectState?"On-Going":"Completed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(x,{size:16,className:"mr-2 shrink-0"}),new Date(t.createdAt).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>{return e=t._id,void g(`/admin/projects/view/${e}`);var e},className:"text-blue-600 hover:text-blue-900 p-2.5 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(m,{size:20})}),e.jsx("button",{onClick:()=>{return e=t._id,void g(`/admin/projects/edit/${e}`);var e},className:"text-green-600 hover:text-green-900 p-2.5 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Project",children:e.jsx(p,{size:20})}),e.jsx("button",{onClick:()=>(async(e,t)=>{w(e);try{const s=await l(e,!t);s.success?(j(s=>s.map(s=>s._id===e?{...s,isActive:!t}:s)),S("Status updated successfully!"),T("success"),A(!0)):(S(`Failed to update status: ${s.message}`),T("error"),A(!0))}catch(s){console.error("Toggle status error:",s),S("An error occurred while updating status"),T("error"),A(!0)}finally{w(null)}})(t._id,t.isActive),disabled:N===t._id,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${t.isActive?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} ${N===t._id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:t.isActive?"Click to Deactivate":"Click to Activate",children:e.jsx("span",{className:"inline-block h-6 w-6 transform rounded-full bg-white transition-transform "+(t.isActive?"translate-x-7":"translate-x-1")})}),e.jsx("button",{onClick:()=>{return e=t._id,s=t.projectTitle,D({id:e,title:s}),void E(!0);var e,s},className:"text-red-600 hover:text-red-900 p-2.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Project & Files",children:e.jsx(h,{size:20})})]})})]},t._id))})]})})}):e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No plot projects found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create plot projects from the Projects page"})]}),e.jsx(n,{isOpen:P,onClose:()=>{E(!1),D(null)},onConfirm:async()=>{if($)try{const e=await i($.id);e.success?(await z(),S(`âœ“ Project "${$.title}" and all its files deleted successfully!`),T("success"),A(!0)):(S(`Failed to delete project: ${e.message}`),T("error"),A(!0))}catch(e){console.error("Delete error:",e),S("An error occurred while deleting the project"),T("error"),A(!0)}finally{D(null)}},title:$?.title||"",message:"This will permanently delete the project and all its images. This action cannot be undone."}),e.jsx(c,{isOpen:k,onClose:()=>A(!1),message:C,type:_,duration:3e3})]})}},Symbol.toStringTag,{value:"Module"})),b=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const d=t(),[u,j]=s.useState([]),[b,y]=s.useState(!0),[f,v]=s.useState(null),[N,w]=s.useState(null),[k,A]=s.useState(!1),[C,S]=s.useState(""),[_,T]=s.useState("info"),[P,E]=s.useState(!1),[$,D]=s.useState(null);s.useEffect(()=>{z()},[]);const z=async()=>{try{y(!0),v(null);const e=await r("commercial");e.success&&e.data&&e.data.projects?j(e.data.projects):(j([]),v(e.message||"Failed to fetch commercial projects"))}catch(e){j([]),v("Error loading projects"),console.error("Error fetching commercial projects:",e)}finally{y(!1)}};return b?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading commercial projects..."})]})}):f?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-600 font-medium",children:f}),e.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(g,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Commercial Projects"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage office buildings, retail spaces, and commercial complexes."}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Total Projects:"}),e.jsx("span",{className:"text-sm font-bold text-blue-900",children:u?.length||0})]})]}),u&&0!==u.length?e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t.cardImage&&e.jsx("img",{src:a(t.cardImage),alt:t.projectTitle,className:"h-10 w-10 rounded-lg object-cover mr-3",onError:e=>{console.error("Failed to load image:",t.cardImage),e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="40"%3E%3Crect fill="%23ddd" width="40" height="40"/%3E%3C/svg%3E'}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.projectTitle}),e.jsx("div",{className:"text-sm text-gray-500",children:t.slug})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(o,{size:16,className:"text-blue-500 mr-2 shrink-0"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.cardLocation||t.shortAddress})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.cardAreaFt})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("on-going"===t.projectState?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"on-going"===t.projectState?"On-Going":"Completed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(x,{size:16,className:"mr-2 shrink-0"}),new Date(t.createdAt).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>{return e=t._id,void d(`/admin/projects/view/${e}`);var e},className:"text-blue-600 hover:text-blue-900 p-2.5 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(m,{size:20})}),e.jsx("button",{onClick:()=>{return e=t._id,void d(`/admin/projects/edit/${e}`);var e},className:"text-green-600 hover:text-green-900 p-2.5 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Project",children:e.jsx(p,{size:20})}),e.jsx("button",{onClick:()=>(async(e,t)=>{w(e);try{const s=await l(e,!t);s.success?(j(s=>s.map(s=>s._id===e?{...s,isActive:!t}:s)),S("Project status updated successfully"),T("success"),A(!0)):(S(`Failed to update status: ${s.message}`),T("error"),A(!0))}catch(s){console.error("Toggle status error:",s),S("An error occurred while updating status"),T("error"),A(!0)}finally{w(null)}})(t._id,t.isActive),disabled:N===t._id,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${t.isActive?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} ${N===t._id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:t.isActive?"Click to Deactivate":"Click to Activate",children:e.jsx("span",{className:"inline-block h-6 w-6 transform rounded-full bg-white transition-transform "+(t.isActive?"translate-x-7":"translate-x-1")})}),e.jsx("button",{onClick:()=>{return e=t._id,s=t.projectTitle,D({id:e,title:s}),void E(!0);var e,s},className:"text-red-600 hover:text-red-900 p-2.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Project & Files",children:e.jsx(h,{size:20})})]})})]},t._id))})]})})}):e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No commercial projects found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create commercial projects from the Projects page"})]}),P&&$&&e.jsx(n,{isOpen:P,onClose:()=>{E(!1),D(null)},onConfirm:async()=>{if($)try{const e=await i($.id);e.success?(await z(),S(`Project "${$.title}" deleted successfully!`),T("success"),A(!0)):(S(`Failed to delete project: ${e.message}`),T("error"),A(!0))}catch(e){console.error("Delete error:",e),S("An error occurred while deleting the project"),T("error"),A(!0)}finally{E(!1),D(null)}},title:`Delete "${$.title}"?`,message:"All project images and data will be permanently deleted. This action cannot be undone."}),e.jsx(c,{isOpen:k,message:C,type:_,onClose:()=>A(!1)})]})}},Symbol.toStringTag,{value:"Module"})),y=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const d=t(),[g,j]=s.useState([]),[b,y]=s.useState(!0),[f,v]=s.useState(null),[N,w]=s.useState(null),[k,A]=s.useState(!1),[C,S]=s.useState(""),[_,T]=s.useState("info"),[P,E]=s.useState(!1),[$,D]=s.useState(null);s.useEffect(()=>{z()},[]);const z=async()=>{try{y(!0),v(null);const e=await r("residential");e.success&&e.data&&e.data.projects?j(e.data.projects):(j([]),v(e.message||"Failed to fetch residential projects"))}catch(e){j([]),v("Error loading projects"),console.error("Error fetching residential projects:",e)}finally{y(!1)}};return b?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading residential projects..."})]})}):f?e.jsx("div",{className:"max-w-7xl mx-auto p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-red-600 font-medium",children:f}),e.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Try Again"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(u,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Residential Projects"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage residential apartment complexes, villas, and housing projects."}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Total Projects:"}),e.jsx("span",{className:"text-sm font-bold text-blue-900",children:g?.length||0})]})]}),g&&0!==g.length?e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Active"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[t.cardImage&&e.jsx("img",{src:a(t.cardImage),alt:t.projectTitle,className:"h-10 w-10 rounded-lg object-cover mr-3",onError:e=>{console.error("Failed to load image:",t.cardImage),e.currentTarget.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="40" height="40"%3E%3Crect fill="%23ddd" width="40" height="40"/%3E%3C/svg%3E'}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.projectTitle}),e.jsx("div",{className:"text-sm text-gray-500",children:t.slug})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(o,{size:16,className:"text-blue-500 mr-2 shrink-0"}),e.jsx("span",{className:"truncate max-w-[200px]",children:t.cardLocation||t.shortAddress})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.cardAreaFt})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+("on-going"===t.projectState?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:"on-going"===t.projectState?"On-Going":"Completed"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full "+(t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(x,{size:16,className:"mr-2 shrink-0"}),new Date(t.createdAt).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("button",{onClick:()=>{return e=t._id,void d(`/admin/projects/view/${e}`);var e},className:"text-blue-600 hover:text-blue-900 p-2.5 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:e.jsx(m,{size:20})}),e.jsx("button",{onClick:()=>{return e=t._id,void d(`/admin/projects/edit/${e}`);var e},className:"text-green-600 hover:text-green-900 p-2.5 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Project",children:e.jsx(p,{size:20})}),e.jsx("button",{onClick:()=>(async(e,t)=>{w(e);try{const s=await l(e,!t);s.success?(j(s=>s.map(s=>s._id===e?{...s,isActive:!t}:s)),S("Project status updated successfully"),T("success"),A(!0)):(S(`Failed to update status: ${s.message}`),T("error"),A(!0))}catch(s){console.error("Toggle status error:",s),S("An error occurred while updating status"),T("error"),A(!0)}finally{w(null)}})(t._id,t.isActive),disabled:N===t._id,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${t.isActive?"bg-green-500 hover:bg-green-600":"bg-gray-300 hover:bg-gray-400"} ${N===t._id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:t.isActive?"Click to Deactivate":"Click to Activate",children:e.jsx("span",{className:"inline-block h-6 w-6 transform rounded-full bg-white transition-transform "+(t.isActive?"translate-x-7":"translate-x-1")})}),e.jsx("button",{onClick:()=>{return e=t._id,s=t.projectTitle,D({id:e,title:s}),void E(!0);var e,s},className:"text-red-600 hover:text-red-900 p-2.5 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Project & Files",children:e.jsx(h,{size:20})})]})})]},t._id))})]})})}):e.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-12 text-center",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No residential projects found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Create residential projects from the Projects page"})]}),P&&$&&e.jsx(n,{isOpen:P,onClose:()=>{E(!1),D(null)},onConfirm:async()=>{if($)try{const e=await i($.id);e.success?(await z(),S(`Project "${$.title}" deleted successfully!`),T("success"),A(!0)):(S(`Failed to delete project: ${e.message}`),T("error"),A(!0))}catch(e){console.error("Delete error:",e),S("An error occurred while deleting the project"),T("error"),A(!0)}finally{E(!1),D(null)}},title:`Delete "${$.title}"?`,message:"All project images and data will be permanently deleted. This action cannot be undone."}),e.jsx(c,{isOpen:k,message:C,type:_,onClose:()=>A(!1)})]})}},Symbol.toStringTag,{value:"Module"}));export{b as C,j as P,y as R};
