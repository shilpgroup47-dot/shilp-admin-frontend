import{j as e}from"./chunk-uF_e8af6.js";import{r as t,R as s}from"./chunk-DkyOUQ6A.js";import{g as a,b as l,u as r,c as n,f as o,d as i,e as d,h as c,i as u,j as m}from"./chunk-D3LDxPaH.js";import"./chunk-lvAoM0S6.js";import{S as x,T as b}from"./chunk-zvM5leuk.js";import{L as g,b as h,X as p,E as f,T as j,U as y,S as v}from"./chunk-Ci71oLUO.js";import{a as N}from"./chunk-ClPlP9YV.js";const w=s.memo(({src:s,alt:a,className:l,onLoad:r,onError:n,fallbackSrc:o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5Ob3QgQXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg=="})=>{const[i,d]=t.useState(!1),[c,u]=t.useState(null);t.useEffect(()=>{if(!c||!s||""===s.trim())return;const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(d(!0),e.disconnect())})},{threshold:.1});return e.observe(c),()=>e.disconnect()},[c,s]);return s&&""!==s.trim()?e.jsx("img",{ref:u,src:i?s:o,alt:a,className:l,onLoad:()=>{d(!0),r?.()},onError:e=>{e.currentTarget.src=o,n?.(e)},loading:"lazy"}):e.jsx("div",{className:`${l} bg-gray-100 flex items-center justify-center border-2 border-dashed border-gray-300 min-h-[100px]`,children:e.jsx("span",{className:"text-gray-500 text-sm",children:"No Image"})})}),k=[{key:"homepageBanner",label:"Homepage Banner"},{key:"aboutUs",label:"About Us Banner"},{key:"commercialBanner",label:"Commercial Banner"},{key:"plotBanner",label:"Plot Banner"},{key:"residentialBanner",label:"Residential Banner"},{key:"contactBanners",label:"Contact Banner"},{key:"careerBanner",label:"Career Banner"},{key:"ourTeamBanner",label:"Our Team Banner"},{key:"termsConditionsBanner",label:"Terms & Conditions Banner"},{key:"privacyPolicyBanner",label:"Privacy Policy Banner"},{key:"projectTreeBanner",label:"Project Tree Banner"},{key:"blogsDetail",label:"Blogs Image",isBlogsDetail:!0}],C=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,u]=t.useState({}),[m,b]=t.useState({}),[N,C]=t.useState(""),[S,B]=t.useState(""),[M,L]=t.useState(""),[A,D]=t.useState(""),[E,T]=t.useState(""),U=t.useRef(null),[I,$]=t.useState({show:!1,image:"",alt:""}),[P,z]=t.useState({isOpen:!1,title:"",message:"",details:void 0}),W=t.useMemo(()=>{const e={};return k.forEach(({key:t,isBlogsDetail:l})=>{const r=s[t];if(l&&"blogsDetail"===t){const s=r;e[t]={desktop:s?.image&&""!==s.image.trim()?a(s.image):"",mobile:s?.mobileimage&&""!==s.mobileimage.trim()?a(s.mobileimage):""}}else{const s=r,l=s?.banner&&""!==s.banner.trim()?a(s.banner):"",n=s?.mobilebanner&&""!==s.mobilebanner.trim()?a(s.mobilebanner):"";e[t]={desktop:l,mobile:n}}}),e},[s]),F=t.useMemo(()=>({isAnyUploading:k.some(({key:e})=>M===`upload-${e}-banner`||M===`upload-${e}-mobilebanner`),isAnyDeleting:k.some(({key:e})=>M===`delete-${e}-banner`||M===`delete-${e}-mobilebanner`),isAnyAltUpdating:k.some(({key:e})=>M===`alt-${e}`)}),[M]),O=t.useCallback((e,t,s)=>{z({isOpen:!0,title:e,message:t,details:s})},[]),R=t.useCallback(()=>{if(z({isOpen:!1,title:"",message:"",details:void 0}),U.current){const e=document.getElementById(`section-${U.current}`);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},100),U.current=null}},[]),_=t.useCallback(async(e=0)=>{L("fetch-all"),D("");try{const e=await l();if(!e.success||!e.data)throw new Error(e.error||"Failed to fetch banners");u(e.data),D("")}catch(t){const s=t instanceof Error?t.message:"Unknown error";if(console.error("‚ùå Failed to load banners:",s),e<2)return void setTimeout(()=>_(e+1),1e3);D(`Failed to load banners: ${s}`)}finally{L("")}},[]);t.useEffect(()=>{_()},[_]),t.useEffect(()=>{if(Object.keys(s).length>0&&s.blogsDetail){const e=s.blogsDetail;C(e.title||""),B(e.description||"")}},[s]);const H=t.useCallback(async(e,t,a)=>{L(`upload-${e}-${t}`),D(""),T(""),U.current=e;try{const l=s[e]?.alt||"",n=await r(e,t,a,l);n.success?(u(s=>({...s,[e]:{...s[e],[t]:n.data?.imageUrl||n.data?.filename||"",[`${t}Metadata`]:n.data?.metadata}})),O("Upload Successful!",n.message||"Image uploaded successfully",{section:n.data?.section,field:n.data?.field,imageUrl:n.data?.imageUrl,metadata:n.data?.metadata})):D(n.error||"Upload failed")}catch(l){const e=l instanceof Error?l.message:"Unknown error";D(`Upload failed: ${e}`)}finally{L("")}},[s,O]),V=async(e,t)=>{L(`alt-${e}`),D(""),T("");try{const s=await c(e,t);s.success?(u(s=>({...s,[e]:{...s[e],alt:t}})),b(t=>{const s={...t};return delete s[e],s}),O("Alt Text Updated!",s.message||"Alt text updated successfully",{section:s.data?.section,field:"alt"})):D(s.error||"Update failed")}catch(s){const e=s instanceof Error?s.message:"Unknown error";D(`Update failed: ${e}`)}finally{L("")}},Z=t.useCallback(async()=>{L("blogstext-update"),D(""),T("");try{(await n(N,S)).success&&(u(e=>({...e,blogsDetail:{...e.blogsDetail,title:N,description:S}})),z({isOpen:!0,title:"Blogs Text Updated",message:`Blog title and description have been successfully updated.${N?"\n\nTitle: "+N:""}${S?"\n\nDescription: "+(S.length>100?S.substring(0,100)+"...":S):""}`}))}catch(e){const t=e instanceof Error?e.message:"Unknown error";D(`Update failed: ${t}`)}finally{L("")}},[N,S]),G=t.useCallback(()=>{const e=s.blogsDetail;return N!==(e?.title||"")||S!==(e?.description||"")},[s.blogsDetail,N,S]),q=async(e,t)=>{if(window.confirm("Are you sure you want to delete this image?")){L(`delete-${e}-${t}`),D(""),T("");try{const s=await d(e,t);s.success?(u(s=>({...s,[e]:{...s[e],[t]:"",[`${t}Metadata`]:void 0}})),O("Image Deleted!",s.message||"Image deleted successfully",{section:s.data?.section,field:s.data?.field})):D(s.error||"Delete failed")}catch(s){const e=s instanceof Error?s.message:"Unknown error";D(`Delete failed: ${e}`)}finally{L("")}}},Y=(e,t)=>{$({show:!0,image:e,alt:t})},Q=t.useCallback((e,t)=>{b(s=>({...s,[e]:t}))},[]),J=e=>m[e]??s[e]?.alt??"",X=e=>{const t=m[e],a=s[e]?.alt??"";return void 0!==t&&t!==a},K=t.useCallback((e,t,s)=>{const a=s.target.files?.[0];a&&H(e,t,a)},[H]);return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Banner Management"}),(F.isAnyUploading||F.isAnyDeleting||F.isAnyAltUpdating||"fetch-all"===M)&&e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(g,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"fetch-all"===M?"Loading banners...":F.isAnyUploading?"Uploading...":F.isAnyDeleting?"Deleting...":F.isAnyAltUpdating?"Updating alt text...":"Processing..."})]})]})}),A&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[e.jsx(h,{className:"w-5 h-5 text-red-500 shrink-0"}),e.jsx("span",{className:"text-red-700",children:A}),e.jsx("button",{onClick:()=>D(""),className:"ml-auto text-red-500 hover:text-red-700",children:e.jsx(p,{className:"w-4 h-4"})})]}),E&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 text-green-500 shrink-0",children:"‚úì"}),e.jsx("span",{className:"text-green-700",children:E}),e.jsx("button",{onClick:()=>T(""),className:"ml-auto text-green-500 hover:text-green-700",children:e.jsx(p,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid gap-8",children:k.map(({key:t,label:l,isBlogsDetail:r})=>{const n=s[t];if(r&&"blogsDetail"===t){const s=n;return e.jsxs("div",{id:`section-${t}`,className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:l}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Desktop Image"}),s?.image?e.jsxs("div",{className:"relative group",children:[e.jsx(w,{src:W[t]?.desktop||"",alt:s?.alt||"Blogs desktop image",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200"}),s.imageMetadata&&e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[s.imageMetadata.size&&o(s.imageMetadata.size),s.imageMetadata.uploadedAt&&e.jsx("div",{children:i(s.imageMetadata.uploadedAt)})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(a(s.image),s.alt||""),className:"bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>q(t,"image"),disabled:M===`delete-${t}-image`,className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors disabled:opacity-50",children:M===`delete-${t}-image`?e.jsx(g,{className:"w-5 h-5 animate-spin"}):e.jsx(j,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No desktop image uploaded"})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>K(t,"image",e),className:"hidden"}),e.jsxs("span",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[M===`upload-${t}-image`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(y,{className:"w-4 h-4"}),s?.image?"Replace":"Upload"," Desktop"]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Mobile Image"}),s?.mobileimage?e.jsxs("div",{className:"relative group",children:[e.jsx(w,{src:W[t]?.mobile||"",alt:s?.alt||"Blogs mobile image",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200"}),s.mobileimageMetadata&&e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[s.mobileimageMetadata.size&&o(s.mobileimageMetadata.size),s.mobileimageMetadata.uploadedAt&&e.jsx("div",{children:i(s.mobileimageMetadata.uploadedAt)})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(a(s.mobileimage),s.alt||""),className:"bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>q(t,"mobileimage"),disabled:M===`delete-${t}-mobileimage`,className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors disabled:opacity-50",children:M===`delete-${t}-mobileimage`?e.jsx(g,{className:"w-5 h-5 animate-spin"}):e.jsx(j,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No mobile image uploaded"})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>K(t,"mobileimage",e),className:"hidden"}),e.jsxs("span",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[M===`upload-${t}-mobileimage`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(y,{className:"w-4 h-4"}),s?.mobileimage?"Replace":"Upload"," Mobile"]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:["Alt Text (for accessibility)",X(t)&&e.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"‚Ä¢ Unsaved changes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:J(t),onChange:e=>Q(t,e.target.value),placeholder:"Enter descriptive alt text for screen readers...",className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(X(t)?"border-orange-300 bg-orange-50":"border-gray-300")}),e.jsxs("button",{onClick:()=>{const e=J(t);V(t,e)},disabled:M===`alt-${t}`||!J(t)||!X(t),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[M===`alt-${t}`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(v,{className:"w-4 h-4"}),"Save Alt Text"]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:["Title",G()&&e.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"‚Ä¢ Unsaved changes"})]}),e.jsx("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Enter blog title...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(G()?"border-orange-300 bg-orange-50":"border-gray-300")})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Description"}),e.jsx("textarea",{value:S,onChange:e=>B(e.target.value),placeholder:"Enter blog description...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(G()?"border-orange-300 bg-orange-50":"border-gray-300")})]}),G()&&e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsx("button",{onClick:Z,disabled:"blogstext-update"===M,className:"w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:"blogstext-update"===M?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4"}),"Save Title & Description"]})})})]})]},t)}const d=n;return e.jsxs("div",{id:`section-${t}`,className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:l}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Desktop Banner"}),d?.banner?e.jsxs("div",{className:"relative group",children:[e.jsx(w,{src:W[t]?.desktop||"",alt:d.alt||"Desktop banner",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200",onLoad:()=>{console.info("‚úÖ Successfully loaded image:",W[t]?.desktop)},onError:e=>{console.error("‚ùå Failed to load image:",{originalPath:d.banner,fullUrl:W[t]?.desktop,error:e})}}),d.bannerMetadata&&e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[d.bannerMetadata.size&&o(d.bannerMetadata.size),d.bannerMetadata.uploadedAt&&e.jsx("div",{children:i(d.bannerMetadata.uploadedAt)})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(a(d.banner),d.alt||""),className:"bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>q(t,"banner"),disabled:M===`delete-${t}-banner`,className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors disabled:opacity-50",children:M===`delete-${t}-banner`?e.jsx(g,{className:"w-5 h-5 animate-spin"}):e.jsx(j,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No desktop banner uploaded"})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>K(t,"banner",e),className:"hidden"}),e.jsxs("span",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[M===`upload-${t}-banner`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(y,{className:"w-4 h-4"}),d?.banner?"Replace":"Upload"," Desktop"]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"Mobile Banner"}),d?.mobilebanner?e.jsxs("div",{className:"relative group",children:[e.jsx(w,{src:W[t]?.mobile||"",alt:d.alt||"Mobile banner",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-200",onLoad:()=>{console.info("‚úÖ Successfully loaded mobile image:",W[t]?.mobile)},onError:e=>{console.error("‚ùå Failed to load mobile image:",{originalPath:d.mobilebanner,fullUrl:W[t]?.mobile,error:e})}}),d.mobilebannerMetadata&&e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[d.mobilebannerMetadata.size&&o(d.mobilebannerMetadata.size),d.mobilebannerMetadata.uploadedAt&&e.jsx("div",{children:i(d.mobilebannerMetadata.uploadedAt)})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>Y(a(d.mobilebanner),d.alt||""),className:"bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(f,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>q(t,"mobilebanner"),disabled:M===`delete-${t}-mobilebanner`,className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors disabled:opacity-50",children:M===`delete-${t}-mobilebanner`?e.jsx(g,{className:"w-5 h-5 animate-spin"}):e.jsx(j,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(y,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No mobile banner uploaded"})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>K(t,"mobilebanner",e),className:"hidden"}),e.jsxs("span",{className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[M===`upload-${t}-mobilebanner`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(y,{className:"w-4 h-4"}),d?.mobilebanner?"Replace":"Upload"," Mobile"]})]})})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:["Alt Text (for accessibility)",X(t)&&e.jsx("span",{className:"ml-2 text-sm text-orange-600 font-normal",children:"‚Ä¢ Unsaved changes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:J(t),onChange:e=>Q(t,e.target.value),placeholder:"Enter descriptive alt text for screen readers...",className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent "+(X(t)?"border-orange-300 bg-orange-50":"border-gray-300")}),e.jsxs("button",{onClick:()=>{const e=J(t);V(t,e)},disabled:M===`alt-${t}`||!J(t)||!X(t),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[M===`alt-${t}`?e.jsx(g,{className:"w-4 h-4 animate-spin"}):e.jsx(v,{className:"w-4 h-4"}),"Save Alt Text"]})]})]})]},t)})}),I.show&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-full overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Image Preview"}),e.jsx("button",{onClick:()=>{$({show:!1,image:"",alt:""})},className:"text-gray-500 hover:text-gray-700",children:e.jsx(p,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("img",{src:I.image,alt:I.alt,className:"max-w-full max-h-96 object-contain mx-auto"}),I.alt&&e.jsxs("p",{className:"mt-4 text-gray-600 text-center",children:[e.jsx("strong",{children:"Alt Text:"})," ",I.alt]})]})]})}),e.jsx(x,{isOpen:P.isOpen,onClose:R,title:P.title,message:P.message,details:P.details})]})}},Symbol.toStringTag,{value:"Module"})),S=({isOpen:t,onClose:s,onConfirm:a,title:l,message:r="This action cannot be undone."})=>{if(!t)return null;return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-bounce-in",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Delete Confirmation"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Are you sure you want to delete:"}),e.jsxs("p",{className:"text-red-600 font-bold text-lg",children:['"',l,'"']}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:r})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-all duration-200 border-2 border-gray-200",children:"Cancel"}),e.jsxs("button",{onClick:()=>{a(),s()},className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})})},B=N.create({baseURL:u.BASE_URL,headers:{"Content-Type":"application/json"}});B.interceptors.request.use(e=>{const t=localStorage.getItem("adminToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const M=({projectTree:t,onEdit:s,onDelete:l})=>{const r=e=>{if(!e)return"/placeholder-image.png";const t=a(e,!1);return"undefined"!=typeof window&&"192.168.2.143"===window.location.hostname&&console.log("üñºÔ∏è Project Tree Image Debug:",{originalPath:e,generatedUrl:t,hostname:window.location.hostname,protocol:window.location.protocol}),t};return e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"relative bg-linear-to-br from-blue-50 to-indigo-50 p-6",children:e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-lg bg-white",children:e.jsx("img",{src:r(t.image),alt:t.title,crossOrigin:"anonymous",className:"w-full h-full object-cover object-center",onError:e=>{const s=e.target;console.error("‚ùå Image failed to load:",r(t.image)),s.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="128" height="128"%3E%3Ccircle fill="%23e0e7ff" cx="64" cy="64" r="64"/%3E%3Ctext fill="%234f46e5" font-family="Arial" font-size="12" x="50%25" y="50%25" text-anchor="middle" dominant-baseline="middle"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),e.jsx("div",{className:"absolute -top-2 -left-2",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-blue-600 rounded-full shadow-lg",children:[e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm font-bold text-white",children:t.year})]})}),e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsxs("span",{className:"inline-block px-2 py-1 bg-white text-gray-700 text-xs font-bold rounded-full shadow-lg border border-gray-200",children:["#",t.no]})})]})})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight line-clamp-2 min-h-14",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsxs("svg",{className:"w-4 h-4 text-blue-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-sm font-medium truncate",children:t.location})]}),e.jsx("div",{children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold border ${(e=>{switch(e){case"plot":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"commercial":return"bg-blue-50 text-blue-700 border-blue-200";case"residential":return"bg-indigo-50 text-indigo-700 border-indigo-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(t.typeofproject||"")}`,children:[(t=>{switch(t){case"plot":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21h18M3 7v1a3 3 0 003 3h12a3 3 0 003-3V7M3 7V5a2 2 0 012-2h14a2 2 0 012 2v2M3 7h18"})});case"commercial":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})});case"residential":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});default:return null}})(t.typeofproject||""),(n=t.typeofproject||"",n?n.charAt(0).toUpperCase()+n.slice(1):"Unknown")]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:()=>s(t),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-sm hover:shadow-md text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>l(t._id,t.title),className:"flex-1 px-4 py-2 bg-white hover:bg-red-50 text-red-600 font-semibold rounded-lg border border-red-200 hover:border-red-300 transition-all duration-200 flex items-center justify-center gap-2 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]});var n},L=({isOpen:s,onClose:a,title:l,message:r})=>(t.useEffect(()=>{if(s){const e=setTimeout(()=>{a()},3e3);return()=>clearTimeout(e)}},[s,a]),s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-green-100 p-8 max-w-md w-full animate-[scale-in_0.3s_ease-out]",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center animate-[bounce_0.6s_ease-out]",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 text-center mb-3",children:l}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:r}),e.jsx("button",{onClick:a,className:"w-full px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:"Got it!"})]})}):null),A=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,l]=t.useState([]),[r,n]=t.useState(!1),[o,i]=t.useState(!1),[d,c]=t.useState(null),[u,m]=t.useState({no:"",year:(new Date).getFullYear().toString(),title:"",location:"",typeofproject:"residential"}),[x,g]=t.useState(null),[h,p]=t.useState(""),[f,j]=t.useState(""),[y,v]=t.useState(""),[N,w]=t.useState(""),[k,C]=t.useState(!1),[A,D]=t.useState(""),[E,T]=t.useState("Success!"),[U,I]=t.useState(!1),[$,P]=t.useState(null),[z,W]=t.useState(!1),[F,O]=t.useState(""),[R,_]=t.useState("info"),H=Array.from({length:111},(e,t)=>1990+t),V=()=>{if(0===s.length)return 1;return Math.max(...s.map(e=>e.no))+1},Z=async()=>{try{n(!0);const e=await(async()=>{const e=new URLSearchParams;return(await B.get(`/api/projecttree?${e.toString()}`)).data})();e.success&&e.data&&l(e.data)}catch(e){console.error("Error fetching project trees:",e),O("Failed to fetch project trees"),_("error"),W(!0)}finally{n(!1)}};t.useEffect(()=>{Z()},[]);const G=t.useMemo(()=>{let e=[...s];return f&&(e=e.filter(e=>e.title.toLowerCase().includes(f.toLowerCase())||e.location.toLowerCase().includes(f.toLowerCase()))),y&&(e=e.filter(e=>e.year.toString()===y)),N&&(e=e.filter(e=>e.typeofproject===N)),e},[f,y,N,s]),q=()=>{m({no:"",year:(new Date).getFullYear().toString(),title:"",location:"",typeofproject:"residential"}),g(null),p(""),c(null),i(!1)},Y=e=>{m({no:e.no.toString(),year:e.year.toString(),title:e.title,location:e.location,typeofproject:e.typeofproject}),e.image?p(a(e.image,!1)):p(""),g(null),c(e._id),i(!0),window.scrollTo({top:0,behavior:"smooth"})},Q=(e,t)=>{P({id:e,title:t}),I(!0)};return e.jsx("div",{className:"min-h-screen bg-linear-to-br from-blue-50 via-white to-indigo-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-blue-100 p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:d?"Edit Project Tree Item":"Create New Project Tree Item"})]}),e.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!x&&!d&&!h)return O("Please select an image"),_("warning"),void W(!0);try{n(!0);const e=new FormData;if(e.append("no",u.no),e.append("year",u.year),e.append("title",u.title),e.append("location",u.location),e.append("typeofproject",u.typeofproject),x&&e.append("image",x),d){const t=await(async(e,t)=>(await B.put(`/api/projecttree/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data)(d,e);t.success&&(T("Updated! ‚úì"),D(`Project "${u.title}" has been updated successfully! üéâ`),C(!0),setTimeout(()=>{q(),Z()},500))}else{const t=await(async e=>(await B.post("/api/projecttree",e,{headers:{"Content-Type":"multipart/form-data"}})).data)(e);t.success&&(T("Created! üéâ"),D(`Project "${u.title}" has been created successfully!`),C(!0),setTimeout(()=>{q(),Z()},500))}}catch(t){console.error("Error saving project tree:",t);const e=t instanceof Error&&"response"in t?t.response?.data?.error:"Failed to save project tree";O(e||"Failed to save project tree"),_("error"),W(!0)}finally{n(!1)}},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Number ",!d&&e.jsx("span",{className:"text-blue-500 text-xs",children:"(Auto-generated)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 font-semibold",children:"#"})}),e.jsx("input",{type:"number",required:!0,value:u.no,readOnly:!d,onChange:e=>m({...u,no:e.target.value}),className:"w-full pl-8 pr-4 py-3 bg-blue-50 border-2 border-blue-200 rounded-xl text-gray-900 font-semibold placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all cursor-not-allowed",placeholder:"Auto"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{required:!0,value:u.year,onChange:e=>m({...u,year:e.target.value}),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:H.map(t=>e.jsx("option",{value:t,className:"bg-white",children:t},t))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:u.title,onChange:e=>m({...u,title:e.target.value}),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter project title",maxLength:200})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",required:!0,value:u.location,onChange:e=>m({...u,location:e.target.value}),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter location",maxLength:200})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Type of Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:u.typeofproject,onChange:e=>m({...u,typeofproject:e.target.value}),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:[e.jsx("option",{value:"residential",className:"bg-white",children:"Residential"}),e.jsx("option",{value:"commercial",className:"bg-white",children:"Commercial"}),e.jsx("option",{value:"plot",className:"bg-white",children:"Plot"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Image ",!d&&e.jsx("span",{className:"text-red-500",children:"*"}),d&&h&&e.jsx("span",{className:"text-blue-500 text-xs ml-2",children:"(Current image shown below - upload new to replace)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(t){g(t);const e=new FileReader;e.onloadend=()=>{p(e.result)},e.readAsDataURL(t)}},required:!d&&!h,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]})]}),h&&e.jsxs("div",{className:"mt-6 p-6 bg-blue-50 rounded-xl border-2 border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:d&&!x?"Current Image":"Image Preview"}),x&&e.jsx("span",{className:"text-xs text-green-600 font-semibold bg-green-100 px-3 py-1 rounded-full",children:"‚úì New image selected"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 h-40 rounded-xl overflow-hidden border-4 border-blue-200 shadow-lg ring-4 ring-blue-50",children:e.jsx("img",{src:h,alt:"Preview",crossOrigin:"anonymous",className:"w-full h-full object-cover"})}),d&&h&&e.jsxs("div",{className:"flex-1 text-sm text-gray-600",children:[e.jsxs("p",{className:"mb-2",children:["üì∑ ",x?"New image will replace the current one when you save":"This is the current image"]}),!x&&e.jsx("p",{className:"text-blue-600 font-medium",children:"üí° Select a new image above to replace this one"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d?"Update Project":"Create Project"]})}),e.jsx("button",{type:"button",onClick:q,className:"px-8 py-3 bg-white hover:bg-gray-50 text-gray-700 font-bold rounded-xl border-2 border-gray-200 hover:border-gray-300 transition-all duration-200",children:"Cancel"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-blue-100 p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Filters & Search"})]}),e.jsxs("button",{onClick:()=>{m({no:V().toString(),year:(new Date).getFullYear().toString(),title:"",location:"",typeofproject:"residential"}),g(null),p(""),c(null),i(!0)},className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Project"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),placeholder:"Search by title or location...",className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Year"}),e.jsxs("select",{value:y,onChange:e=>v(e.target.value),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:[e.jsx("option",{value:"",className:"bg-white",children:"All Years"}),H.reverse().map(t=>e.jsx("option",{value:t,className:"bg-white",children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Type"}),e.jsxs("select",{value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:[e.jsx("option",{value:"",className:"bg-white",children:"All Types"}),e.jsx("option",{value:"residential",className:"bg-white",children:"Residential"}),e.jsx("option",{value:"commercial",className:"bg-white",children:"Commercial"}),e.jsx("option",{value:"plot",className:"bg-white",children:"Plot"})]})]})]}),(f||y||N)&&e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-200"}),e.jsxs("button",{onClick:()=>{j(""),v(""),w("")},className:"px-6 py-2 bg-red-50 hover:bg-red-100 text-red-600 font-semibold rounded-lg border-2 border-red-200 hover:border-red-300 transition-all duration-200 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear All Filters"]}),e.jsx("div",{className:"flex-1 h-px bg-gray-200"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[r&&e.jsx("div",{className:"col-span-full text-center py-20 bg-white rounded-2xl shadow-lg border border-blue-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading projects..."})]})}),!r&&0===G.length&&e.jsx("div",{className:"col-span-full text-center py-20 bg-white rounded-2xl shadow-lg border border-blue-100",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 text-xl font-bold mb-1",children:"No project trees found"}),e.jsx("p",{className:"text-gray-500",children:"Create your first project tree item to get started"})]})]})}),!r&&G.map(t=>e.jsx(M,{projectTree:t,onEdit:Y,onDelete:Q},t._id))]}),k&&e.jsx(L,{isOpen:k,onClose:()=>C(!1),title:E,message:A}),e.jsx(S,{isOpen:U,onClose:()=>{I(!1),P(null)},onConfirm:async()=>{if($)try{(await(async e=>(await B.delete(`/api/projecttree/${e}`)).data)($.id)).success&&(T("Deleted! ‚úì"),D(`Project "${$.title}" has been deleted successfully!`),C(!0),Z())}catch(e){console.error("Error deleting project tree:",e),T("Error!"),D("Failed to delete project tree. Please try again."),C(!0)}finally{P(null)}},title:$?.title||"",message:"This will permanently delete the project and its image. This action cannot be undone."}),e.jsx(b,{isOpen:z,onClose:()=>W(!1),message:F,type:R,duration:3e3})]})})}},Symbol.toStringTag,{value:"Module"})),D=s.memo(({status:s})=>{const a=t.useMemo(()=>{switch(s){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},[s]);return e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${a}`,children:s.charAt(0).toUpperCase()+s.slice(1)})});D.displayName="StatusBadge";const E=s.memo(({blog:t,onEdit:s,onDelete:a})=>e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-blue-200 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-700 flex-1",children:t.title}),e.jsx(D,{status:t.status})]}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:["By ",t.publish]}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:t.date}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:[t.points.length," points"]})]}),t.image&&e.jsx("img",{src:t.image,alt:t.alt||t.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>s(t),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Edit"}),e.jsx("button",{onClick:()=>a(t._id),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:"Delete"})]})]}));E.displayName="BlogCard";const T=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,a]=t.useState([]),[l,r]=t.useState(!1),[n,o]=t.useState(!1),[i,d]=t.useState(null),[c,u]=t.useState(!1),[b,g]=t.useState(""),[h,p]=t.useState({title:"",description:"",publish:"By Shilp Group",date:(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),url:"",alt:"",points:[],status:"draft"}),[f,j]=t.useState(null),[y,v]=t.useState(""),[N,w]=t.useState({}),[k,C]=t.useState({}),S=t.useCallback(async()=>{try{r(!0);const e=await m.getAllBlogs();a(e)}catch(e){console.error("Error fetching blogs:",e)}finally{r(!1)}},[]);t.useEffect(()=>{S()},[S]);const B=t.useCallback(e=>{const{name:t,value:s}=e.target;p(e=>({...e,[t]:s}))},[]),M=t.useCallback(e=>{const t=e.target.files?.[0];if(t){j(t);const e=new FileReader;e.onloadend=()=>{v(e.result)},e.readAsDataURL(t)}},[]),L=t.useCallback((e,t)=>{const s=t.target.files?.[0];if(s){w(t=>({...t,[e]:s}));const t=new FileReader;t.onloadend=()=>{C(s=>({...s,[e]:t.result}))},t.readAsDataURL(s)}},[]),A=t.useCallback(()=>{p(e=>({...e,points:[...e.points,{title:"",subtitle:"",image:"",child:[]}]}))},[]),D=t.useCallback(e=>{p(t=>({...t,points:t.points.filter((t,s)=>s!==e)})),w(t=>{const s={...t};return delete s[e],s}),C(t=>{const s={...t};return delete s[e],s})},[]),T=t.useCallback((e,t,s)=>{p(a=>{const l=[...a.points];return l[e]={...l[e],[t]:s},{...a,points:l}})},[]),U=t.useCallback(e=>{p(t=>{const s=[...t.points];return s[e].child||(s[e].child=[]),s[e].child.push({title:"",subtitle:""}),{...t,points:s}})},[]),I=t.useCallback((e,t)=>{p(s=>{const a=[...s.points];return a[e].child=a[e].child?.filter((e,s)=>s!==t),{...s,points:a}})},[]),$=t.useCallback((e,t,s,a)=>{p(l=>{const r=[...l.points];return r[e].child&&(r[e].child[t]={...r[e].child[t],[s]:a}),{...l,points:r}})},[]),P=t.useCallback(e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),[]),z=t.useCallback(e=>{const t=e.target.value;p(e=>({...e,title:t,url:P(t)}))},[P]),W=t.useCallback(()=>{p({title:"",description:"",publish:"By Shilp Group",date:(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),url:"",alt:"",points:[],status:"draft"}),j(null),v(""),w({}),C({}),o(!1),d(null)},[]),F=t.useCallback(async()=>{try{if(!f)return void alert("Please select a main image");r(!0),await m.createBlog(h,{mainImage:f,pointImages:N}),g("Blog created successfully!"),u(!0),W(),S()}catch(e){console.error("Error creating blog:",e),alert(e instanceof Error?e.message:"Failed to create blog")}finally{r(!1)}},[f,h,N,W,S]),O=t.useCallback(e=>{d(e),p({title:e.title,description:e.description,publish:e.publish,date:e.date,url:e.url,alt:e.alt||"",points:e.points,status:e.status}),v(e.image),o(!0)},[]),R=t.useCallback(async()=>{if(i)try{r(!0),await m.updateBlog(i._id,h,f?{mainImage:f,pointImages:N}:void 0),g("Blog updated successfully!"),u(!0),W(),S()}catch(e){console.error("Error updating blog:",e),alert(e instanceof Error?e.message:"Failed to update blog")}finally{r(!1)}},[i,h,f,N,W,S]),_=t.useCallback(async e=>{if(confirm("Are you sure you want to delete this blog?"))try{r(!0),await m.deleteBlog(e),g("Blog deleted successfully!"),u(!0),S()}catch(t){console.error("Error deleting blog:",t),alert(t instanceof Error?t.message:"Failed to delete blog")}finally{r(!1)}},[S]);return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-blue-200 p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-4xl font-bold text-blue-600",children:"Blogs Management"}),!n&&e.jsx("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Create New Blog"})]}),n&&e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200 mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-blue-700 mb-4",children:i?"Edit Blog":"Create New Blog"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:h.title,onChange:z,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"URL Slug *"}),e.jsx("input",{type:"text",name:"url",value:h.url,onChange:B,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:h.description,onChange:B,rows:4,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Publish By"}),e.jsx("input",{type:"text",name:"publish",value:h.publish,onChange:B,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Date"}),e.jsx("input",{type:"text",name:"date",value:h.date,onChange:B,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Status"}),e.jsxs("select",{name:"status",value:h.status,onChange:B,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Alt Text"}),e.jsx("input",{type:"text",name:"alt",value:h.alt,onChange:B,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-2",children:"Main Image *"}),e.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"}),y&&e.jsx("img",{src:y,alt:"Preview",className:"mt-2 h-32 object-cover rounded-lg"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-700",children:"Points"}),e.jsx("button",{onClick:A,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow-md",children:"Add Point"})]}),h.points.map((t,s)=>e.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 border border-blue-200 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"text-lg font-medium text-blue-600",children:["Point ",s+1]}),e.jsx("button",{onClick:()=>D(s),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600",children:"Remove"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",value:t.title,onChange:e=>T(s,"title",e.target.value),className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-1",children:"Subtitle"}),e.jsx("textarea",{value:t.subtitle,onChange:e=>T(s,"subtitle",e.target.value),rows:3,className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-1",children:"Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:e=>L(s,e),className:"w-full px-4 py-2 bg-white border border-blue-300 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"}),(k[s]||t.image)&&e.jsx("img",{src:k[s]||t.image,alt:"Preview",className:"mt-2 h-24 object-cover rounded-lg"})]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h5",{className:"text-md font-medium text-blue-600",children:"Child Points"}),e.jsx("button",{onClick:()=>U(s),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 text-sm shadow-sm",children:"Add Child"})]}),t.child?.map((t,a)=>e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-2 border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-gray-700 font-medium text-sm",children:["Child ",a+1]}),e.jsx("button",{onClick:()=>I(s,a),className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 text-xs",children:"Remove"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-1 text-sm",children:"Title"}),e.jsx("input",{type:"text",value:t.title,onChange:e=>$(s,a,"title",e.target.value),className:"w-full px-3 py-1 bg-white border border-blue-300 rounded-lg text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-blue-700 font-medium mb-1 text-sm",children:"Subtitle"}),e.jsx("textarea",{value:t.subtitle,onChange:e=>$(s,a,"subtitle",e.target.value),rows:2,className:"w-full px-3 py-1 bg-white border border-blue-300 rounded-lg text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]},a))]})]},s))]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:i?R:F,disabled:l,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:l?"Saving...":i?"Update Blog":"Create Blog"}),e.jsx("button",{onClick:W,className:"bg-gray-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-gray-600 shadow-md",children:"Cancel"})]})]}),!n&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l?e.jsx("p",{className:"text-blue-600 font-medium",children:"Loading blogs..."}):0===s.length?e.jsx("p",{className:"text-gray-600",children:"No blogs found. Create your first blog!"}):s.map(t=>e.jsx(E,{blog:t,onEdit:O,onDelete:_},t._id))})]}),e.jsx(x,{isOpen:c,title:"Success",message:b,onClose:()=>u(!1)})]})}},Symbol.toStringTag,{value:"Module"}));export{C as B,S as D,A as P,T as a};
